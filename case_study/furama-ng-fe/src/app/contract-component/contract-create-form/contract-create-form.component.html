<div class="p-5"></div>
<div class="text-center">
  <p class="lead display-5">Thêm mới hợp đồng</p>
</div>
<div class="p-2"></div>

<div class=" col-4 mx-auto">
  <form [formGroup]="contractForm" (ngSubmit)="submit()">
<!--    <div class="modal-header">-->
<!--      <h5 class="modal-title">Thêm mới hợp đồng</h5>-->
<!--    </div>-->
    <div class="modal-body">
      <div class="form-group mb-4">
        <div class="form-outline">
          <input type="text" id="contractCode" class="form-control" formControlName="contractCode">
          <label class="form-label" for="contractCode">Mã hợp đồng<span class="text-danger">(*)</span></label>
        </div>
        <div *ngIf="contractCode?.touched">
          <small class="text-danger" *ngIf="contractCode?.errors?.['required']">Mã hợp đồng không được để trống.</small>
          <small class="text-danger" *ngIf="contractCode?.errors?.['pattern']" >Mã hợp đồng phải có định dạng HD-XXXX, trong đó X là số tự nhiên.</small>
        </div>
      </div>

      <div class="form-group mb-4">
        <div class="form-outline">
          <input type="date" id="contractStartDate" class="form-control" formControlName="contractStartDate">
          <label class="form-label" for="contractStartDate">Ngày bắt đầu<span class="text-danger">(*)</span></label>
        </div>
        <div *ngIf="contractStartDate?.touched">
          <small class="text-danger" *ngIf="contractStartDate?.errors?.['required']">Ngày bắt đầu không được để trống.</small>
        </div>
      </div>

      <div class="form-group mb-4">
        <div class="form-outline">
          <input type="date" id="contractEndDate" class="form-control" formControlName="contractEndDate">
          <label class="form-label" for="contractEndDate">Ngày kết thúc<span class="text-danger">(*)</span></label>
        </div>
        <div *ngIf="contractEndDate?.touched">
          <small class="text-danger" *ngIf="contractEndDate?.errors?.['required']">Ngày kết thúc không được để trống.</small>
        </div>
      </div>

      <div class="form-group mb-4">
        <div class="form-outline">
          <input type="text" id="contractDeposit" class="form-control" formControlName="contractDeposit">
          <label class="form-label" for="contractDeposit">Tiền đặt cọc<span class="text-danger">(*)</span></label>
        </div>
        <div *ngIf="contractDeposit?.touched">
          <small class="text-danger" *ngIf="contractDeposit?.errors?.['required']">Tiền đặt cọc không được để trống.</small>
          <small class="text-danger" *ngIf="contractDeposit?.errors?.['min']" >Tiền đặt cọc phải là số dương.</small>
        </div>
      </div>

      <div class="form-group mb-4">
        <div class="form-outline">
          <input type="text" id="contractTotalMoney" class="form-control" formControlName="contractTotalMoney">
          <label class="form-label" for="contractTotalMoney">Tổng tiền<span class="text-danger">(*)</span></label>
        </div>
        <div *ngIf="contractTotalMoney?.touched">
          <small class="text-danger" *ngIf="contractTotalMoney?.errors?.['required']">Tổng tiền không được để trống.</small>
          <small class="text-danger" *ngIf="contractTotalMoney?.errors?.['min']" >Tổng tiền phải là số dương.</small>
        </div>
      </div>

      <label class="form-label" for="employee">Nhân viên</label>
      <div class="mb-4">
        <select id="employee" class="form-control" formControlName="employee">
          <option *ngFor="let employee of employeeList" [ngValue]="employee" >{{employee.employeeName}}</option>
        </select>
        <div *ngIf="employee?.touched">
          <small class="text-danger" *ngIf="employee?.errors?.['required']">Tên nhân viên không được để trống.</small>
        </div>
      </div>

      <label class="form-label" for="customer">Khách hàng</label>
      <div class="mb-4">
        <select id="customer" class="form-control" formControlName="customer" [compareWith]="compare">
          <option *ngFor="let customer of customerList" [ngValue]="customer" >{{customer.customerName}}</option>
        </select>
        <div *ngIf="customer?.touched">
          <small class="text-danger" *ngIf="customer?.errors?.['required']">Tên khách hàng không được để trống.</small>
        </div>
      </div>

      <label class="form-label" for="service">Dịch vụ</label>
      <div class="mb-4">
        <select id="service" class="form-control" formControlName="service">
          <option *ngFor="let service of serviceList" [ngValue]="service" >{{service.serviceName}}</option>
        </select>
        <div *ngIf="service?.touched">
          <small class="text-danger" *ngIf="service?.errors?.['required']">Tên dịch vụ không được để trống.</small>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <input  [disabled]="!contractForm.valid" type="submit" class="btn btn-success" value="Thêm mới">
    </div>
  </form>
</div>
