<div class="text-center">
  <p class="lead display-5">Register</p>
</div>

<div class=" col-4 mx-auto">
<form [formGroup]="registerForm" (ngSubmit)="submit()">
  <div class="mb-3">
    <label for="email" class="form-label">Email address</label>
    <input type="text" class="form-control" id="email" aria-describedby="emailHelp" formControlName="email">
    <div *ngIf="email?.touched">
      <small class="text-danger" *ngIf="email?.errors?.['required']">Email cannot be empty.</small>
      <small class="text-danger" *ngIf="email?.errors?.['pattern']" >Wrong format email.</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="password" class="form-label">Password</label>
    <input type="password" class="form-control" id="password" formControlName="password">
    <div *ngIf="password?.touched">
      <small class="text-danger" *ngIf="password?.errors?.['required']">Password cannot be empty.</small>
      <small class="text-danger" *ngIf="password?.errors?.['pattern']">Password must has at least 8 chars, one lower alpha char, one upper alpha char, one char within a set of special chars, does not contain space, tab, etc.</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="comfirm-password" class="form-label">Confirm password</label>
    <input type="password" class="form-control" id="comfirm-password" formControlName="confirmPassword" (change)="checkConfirmPassword()">
    <div *ngIf="confirmPassword?.touched">
      <small class="text-danger" *ngIf="confirmPassword?.errors?.['required']">Confirm password cannot be empty.</small>
      <small class="text-danger" *ngIf="confirmPassword?.errors?.['notMatch']">{{confirmPassword?.errors?.['notMatch']}}</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="country" class="form-label">Country</label>
    <input type="text" class="form-control" id="country" aria-describedby="emailHelp" formControlName="country">
    <div *ngIf="country?.touched">
      <small class="text-danger" *ngIf="country?.errors?.['required']">Country cannot be empty.</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="age" class="form-label">Age</label>
    <input type="text" class="form-control" id="age" aria-describedby="emailHelp" formControlName="age" (change)="checkAge18()">
    <div *ngIf="age?.touched">
      <small class="text-danger" *ngIf="age?.errors?.['required']">Age cannot be empty.</small>
      <small class="text-danger" *ngIf="age?.errors?.['age18']">{{age?.errors?.['age18']}}</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="gender" class="form-label">Gender</label>
    <select class="form-select" aria-label="Default select example" id="gender" name="gender">
      <option [ngValue]="g.id" *ngFor="let g of genderList">{{g.name}}</option>
    </select>
  </div>
  <div class="mb-3">
    <label for="phone" class="form-label">Phone</label>
    <input type="text" class="form-control" id="phone" aria-describedby="emailHelp" formControlName="phone">
    <div *ngIf="phone?.touched">
      <small class="text-danger" *ngIf="phone?.errors?.['required']">Phone cannot be empty.</small>
      <small class="text-danger" *ngIf="phone?.errors?.['pattern']">Wrong format of phone number.</small>
    </div>
  </div>
  <button [disabled]="!registerForm.valid" type="submit" class="btn btn-success">Submit</button>
</form>
</div>

<div class="p-5"></div>
<table class="table table-striped table-hover">
  <thead class="bg-light">
  <tr>
    <th>Email address</th>
    <th>Password</th>
    <th>Country</th>
    <th>Age</th>
    <th>Gender</th>
    <th>Phone</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let account of accountList">
    <td>{{account.email}}</td>
    <td>{{account.password}}</td>
    <td>{{account.country}}</td>
    <td>{{account.age}}</td>
    <td>{{account.gender}}</td>
    <td>{{account.phone}}</td>
  </tr>
  </tbody>
</table>

